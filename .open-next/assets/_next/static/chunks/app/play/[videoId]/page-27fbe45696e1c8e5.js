(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{7362:(e,t,a)=>{Promise.resolve().then(a.bind(a,9376))},1082:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(1860),s=a(5944),l=a(5449),i=a(7963),n=a.n(i);function o(){let e=function(e){let[t,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let r=window.matchMedia(e);r.matches!==t&&a(r.matches);let s=()=>a(r.matches);return r.addEventListener("change",s),()=>r.removeEventListener("change",s)},[t,e]),t}("(max-width: 639px)"),[t,a]=(0,s.useState)(""),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),u=(0,l.useRouter)(),h=(0,s.useRef)(null),m=(0,l.usePathname)();(0,s.useRef)(!1);let[x,p]=(0,s.useTransition)();(0,s.useEffect)(()=>{let t=setTimeout(()=>{if(!e&&h.current){var t;null===(t=h.current)||void 0===t||t.focus()}},200);return()=>clearTimeout(t)},[e]);let f=(0,s.useRef)(null),v=(0,s.useCallback)(n()(e=>{a(e)},300),[]);(0,s.useEffect)(()=>(f.current=v,()=>{var e;null===(e=f.current)||void 0===e||e.cancel()}),[v]),(0,s.useEffect)(()=>{if("/"===m){var e;null===(e=f.current)||void 0===e||e.cancel(),a(""),h.current&&(h.current.value="")}},[m]);let g=async e=>{var r,s,l;if(e.preventDefault(),null===(r=f.current)||void 0===r||r.cancel(),!t.trim()){u.push("/");return}let i=t.trim().toLowerCase().replace(/ /g,"+");try{let e=await fetch("/api/check-bad-words?term=".concat(i)),{hasBadWords:t}=await e.json();if(t){null===(s=f.current)||void 0===s||s.cancel(),a(""),h.current&&(h.current.value=""),u.push("/");return}u.push("/".concat(i))}catch(e){null===(l=f.current)||void 0===l||l.cancel(),a(""),u.push("/")}};return(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("form",{onSubmit:g,role:"search","aria-label":"Search for YouTube videos",className:"relative",method:"GET",action:"/".concat(t.trim().toLowerCase().replace(/ /g,"+")),children:[(0,r.jsxs)("div",{className:"grid-clickable-group",children:[(0,r.jsx)("input",{ref:h,type:"search",name:"v",value:t,onChange:e=>{o("");let t=e.target.value;a(t),v(t)},placeholder:"type here...",className:"input-primary text-2xl h-16","aria-label":"Type here to search for YouTube videos","aria-invalid":!!i,"aria-describedby":i?"search-error":void 0,disabled:c,autoComplete:"off",role:"searchbox"}),(0,r.jsx)("button",{type:"submit",className:"absolute right-2 top-2 btn-primary h-12 w-24","aria-label":c?"Please wait, searching...":"Search for videos",disabled:c,role:"button",children:c?"Searching...":"Search"})]}),i&&(0,r.jsx)("div",{id:"search-error",role:"alert",className:"absolute top-full left-0 mt-2 text-primary-start","aria-live":"assertive",children:i}),(0,r.jsx)("div",{"aria-live":"polite",className:"sr-only",role:"status",children:c?"Searching for videos, please wait...":""})]})})}},9376:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var r=a(1860),s=a(5944),l=a(506),i=a(1082),n=a(9155),o=a(381),c=a(7118);function d(e){let{params:t}=e,{videoId:a}=(0,s.use)(t),[d,u]=(0,s.useState)(!0),[h,m]=(0,s.useState)(null),[x,p]=(0,s.useState)(null),[f,v]=(0,s.useState)([]),[g,b]=(0,s.useState)(-1),[y,k]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=()=>{document.documentElement.style.setProperty("--app-height","".concat(window.innerHeight,"px"))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{p(c.A.get("searchTerm"))},[]),(0,s.useEffect)(()=>{k(!0);let e=setTimeout(()=>{let e=c.A.get("videoResults");if(e)try{let t=JSON.parse(e),r=t.findIndex(e=>e.id===a);-1===r?(c.A.remove("videoResults"),c.A.remove("searchTerm"),v([]),b(-1),p(null)):(v(t),b(r))}catch(e){console.error("Error parsing playlist:",e),v([]),b(-1)}else v([]),b(-1);k(!1)},200);return()=>clearTimeout(e)},[a]);let j=(0,s.useCallback)(()=>{if(0===f.length||-1===g)return;let e=g>=f.length-1?0:g+1,t=f[e];window.location.href="/play/".concat(t.id)},[f,g]),N=(0,s.useCallback)(()=>{x&&(window.location.href="/".concat(encodeURIComponent(x)))},[x]),w=(0,s.useCallback)(()=>{h&&(d?h.pauseVideo():h.playVideo())},[h,d]),E=(0,s.useCallback)(()=>{h&&(h.seekTo(0),h.playVideo())},[h]);return(0,s.useEffect)(()=>{let e=e=>{if(e.altKey)switch(e.key.toLowerCase()){case"p":w(),e.preventDefault();break;case"r":E(),e.preventDefault();break;case"n":j(),e.preventDefault();break;case"b":N(),e.preventDefault()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[w,E,j,N]),(0,s.useEffect)(()=>()=>{document.title="access: youtube"},[]),(0,r.jsxs)("main",{className:"h-[100dvh] bg-dark flex flex-col",children:[(0,r.jsx)("div",{className:"container mx-auto px-4 py-4 flex-shrink-0",children:(0,r.jsx)(i.default,{autoFocus:!1})}),(0,r.jsx)("div",{className:"container mx-auto px-4 flex-shrink-0",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 sm:gap-6 mb-4 mt-2",children:[(0,r.jsxs)("button",{onClick:w,className:"bg-light rounded-lg py-2 sm:py-3 px-2 sm:px-4 text-center hover:ring-4 hover:ring-primary-start hover:ring-offset-4 hover:ring-offset-dark focus-ring transition-all group relative","aria-label":"".concat(d?"Pause":"Play"," video - Alt plus P"),children:[(0,r.jsx)("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-sm hidden sm:block","aria-hidden":"true",children:"Alt+P"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-2xl sm:text-4xl mb-1 text-primary-start group-hover:scale-110 transition-transform","aria-hidden":"true",children:d?(0,r.jsx)(n.ecF,{}):(0,r.jsx)(n.UFn,{})}),(0,r.jsx)("h2",{className:"text-dark text-sm sm:text-lg font-bold","aria-hidden":"true",children:d?"Pause":"Play"})]})]}),(0,r.jsxs)("button",{onClick:E,className:"bg-light rounded-lg py-2 sm:py-3 px-2 sm:px-4 text-center hover:ring-4 hover:ring-primary-start hover:ring-offset-4 hover:ring-offset-dark focus-ring transition-all group relative","aria-label":"Restart video from beginning - Alt plus R",children:[(0,r.jsx)("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-sm hidden sm:block","aria-hidden":"true",children:"Alt+R"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-2xl sm:text-4xl mb-1 text-primary-start group-hover:scale-110 transition-transform","aria-hidden":"true",children:(0,r.jsx)(o.hT3,{})}),(0,r.jsx)("h2",{className:"text-dark text-sm sm:text-lg font-bold","aria-hidden":"true",children:"Repeat"})]})]}),(0,r.jsxs)("button",{onClick:j,disabled:!y&&0===f.length,className:"bg-light rounded-lg py-2 sm:py-3 px-2 sm:px-4 text-center transition-all group relative ".concat(y||f.length>0?"hover:ring-4 hover:ring-primary-start hover:ring-offset-4 hover:ring-offset-dark focus-ring":"opacity-50 cursor-not-allowed"),"aria-label":f.length>0?"Play next video in playlist - Alt plus N":"Next video not available - no playlist active",children:[(0,r.jsx)("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-sm hidden sm:block","aria-hidden":"true",children:"Alt+N"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-2xl sm:text-4xl mb-1 text-primary-start group-hover:scale-110 transition-transform","aria-hidden":"true",children:(0,r.jsx)(n.XE7,{})}),(0,r.jsx)("h2",{className:"text-dark text-sm sm:text-lg font-bold","aria-hidden":"true",children:"Next"})]})]}),(0,r.jsxs)("a",{href:x?"/".concat(encodeURIComponent(x)):"/",className:"bg-light rounded-lg py-2 sm:py-3 px-2 sm:px-4 text-center transition-all group relative ".concat(y||x?"hover:ring-4 hover:ring-primary-start hover:ring-offset-4 hover:ring-offset-dark focus-ring":"opacity-50 pointer-events-none"),"aria-label":x?"Return to search results - Alt plus B":"Back not available - direct video mode",children:[(0,r.jsx)("div",{className:"absolute top-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-sm hidden sm:block","aria-hidden":"true",children:"Alt+B"}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-2xl sm:text-4xl mb-1 text-primary-start","aria-hidden":"true",children:(0,r.jsx)(n._ny,{})}),(0,r.jsx)("h2",{className:"text-dark text-sm sm:text-lg font-bold","aria-hidden":"true",children:"Back"})]})]})]})}),(0,r.jsx)("div",{className:"flex-1 bg-black",children:(0,r.jsx)(l.A,{videoId:a,opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:1,disablekb:0,fs:0,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0}},onReady:e=>{m(e.target),e.target.playVideo();let t=e.target.getVideoData();(null==t?void 0:t.title)&&(document.title="".concat(t.title," - access: youtube"))},onStateChange:e=>{if(u(1===e.data),1===e.data&&h){let e=h.getVideoData();(null==e?void 0:e.title)&&(document.title="".concat(e.title," - access: youtube"))}},className:"w-full h-full",iframeClassName:"w-full h-full"})})]})}function u(e){let{params:t}=e;return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(d,{params:t})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[399,785,386,341,330,358],()=>t(7362)),_N_E=e.O()}]);